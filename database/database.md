## 📌 인덱스

### DB-018
인덱스가 무엇이고, 언제 사용하는지 설명해 주세요.

- 쉽게 풀면 색인
- 데이터 조회를 빠르게 하기위한 B트리 기반의 자료구조.
- 쿼리 시에 쿼리 옵티마이저가 정해서 사용


### DB-019
일반적으로 인덱스는 수정이 잦은 테이블에선 사용하지 않기를 권합니다. 왜 그럴까요?

테이블 레코드를 삭제 / 수정하면 이에 따라 인덱스도 모두 수정해야함.
따라서 update 비용이 올라감. RANDOM IO 증가

### DB-020
앞 꼬리질문에 대해, 그렇다면 인덱스에서 사용하지 않겠다고 선택한 값은 위 정책을 그대로 따라가나요?

- 안쓰면 write 작업에 대해 문제 안생김.


### DB-021
ORDER BY/GROUP BY 연산의 동작 과정을 인덱스의 존재여부와 연관지어서 설명해 주세요.

- order by 사용시에 풀스캔하고 내부에 임시테이블 만들어서 정렬함.
- 인덱스가 있으면 인덱스는 생성될때 어떤 방향으로든 정렬이 되기에 그대로 사용함.
- 그래도 실행계획 봐야함.


### DB-022
기본키는 인덱스라고 할 수 있을까요? 그렇지 않다면, 인덱스와 기본키는 어떤 차이가 있나요?

- mysql 기준으로는 클러스터링인덱스라고 부름.
- 클러스터링 인덱스의 리프노드는 실제 데이터의 포인트를 가리킴
- 유니크조건이 달려있어서 물리적으로 항상 정렬됨.
- 일반 인덱스는 클러스터링 키를 참조함.
- 일반 인덱스는 여러개 만들 수 있음.

### DB-023
그렇다면 외래키는요?
- 외래키는 제약조건 아닌가?
- 인덱스는 아님.

### DB-024
인덱스가 데이터의 물리적 저장에도 영향을 미치나요? 그렇지 않다면, 데이터는 어떤 순서로 물리적으로 저장되나요?

- 클러스터링 인덱스는 관계가 있는데, 일반 인덱스는 아님.
- 그냥 인덱스는 관계 없음.
- 디비마다 다른데, mysql은 clustered index -> unique index -> row id


### DB-025
우리가 아는 RDB가 아닌 NoSQL (ex. Redis, MongoDB 등)는 인덱스를 갖고 있나요? 만약 있다면, RDB의 인덱스와는 어떤 차이가 있을까요?

- 디비마다 있는지 없는지 다르다.
- 몽고디비는 있음
- 카산드라는 파티셔닝 키 기준
- 엘라스틱서치같은거는 역인덱스

### DB-026
(A, B) 와 같은 방식으로 인덱스를 설정한 테이블에서, A 조건 없이 B 조건만 사용하여 쿼리를 요청했습니다. 해당 쿼리는 인덱스를 탈까요?

- 보통 복합인덱스면 인덱스의 순서대로 확인하기때문에 안탐.
- 자신이 쓰는 디비 확인 필수
